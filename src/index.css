/* Tailwind core layers MUST come first and in this order */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Base tokens and resets
   ========================= */
@layer base {
  :root {
    /* Brand palette */
    --brand-50:  #eef7ff;
    --brand-100: #d9edff;
    --brand-200: #b8dcff;
    --brand-300: #8ec6ff;
    --brand-400: #5aa8f2;
    --brand-500: #046BD9; /* primary */
    --brand-600: #055bb8;
    --brand-700: #084a93;
    --brand-800: #0b3f70;
    --brand-900: #0e3154;

    /* Neutrals */
    --bg: #f7f8fb;
    --text: #0f172a;
    --muted: #64748b;

    /* Surface */
    --app-surface:   #ffffff;
    --app-muted:     #D3D3D3;
    --app-border:    #e5e7eb;
    --app-strong:    #111827; /* titles */
    --app-body:      #334155; /* paragraphs */
    --app-mutedText: #475569; /* darker for readability */

    /* Radii */
    --r-sm: 8px;
    --r-md: 12px;
    --r-lg: 16px;

    /* Shadows */
    --sh-sm:   0 1px 2px rgba(17,24,39,0.06);
    --sh-card: 0 6px 16px rgba(17,24,39,0.08);
  }

  html, body, #root {
    height: 100%;
    background: var(--bg);
    color: var(--app-body);
  }

  /* Better focus */
  :focus-visible {
    outline: 2px solid var(--brand-500);
    outline-offset: 2px;
  }

  /* Typography smoothing */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* =========================
   Components
   ========================= */
@layer components {
  .container-tight {
    @apply mx-auto px-4;
    max-width: 1100px;
  }

  .panel {
    @apply bg-white border rounded-2xl shadow-sm;
    border-color: var(--app-border);
  }
  .panel-header {
    @apply px-4 py-3 border-b;
    border-color: var(--app-border);
  }

  .card {
    @apply bg-white border rounded-2xl shadow-sm;
    border-color: var(--app-border);
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-2xl px-3 py-2 text-sm font-medium;
    background: var(--brand-500);
    color: white;
    box-shadow: var(--sh-sm);
  }
  .btn:hover { filter: brightness(0.95); }
  .btn:disabled { @apply opacity-60 cursor-not-allowed; }

  .btn-outline {
    @apply inline-flex items-center justify-center rounded-2xl px-3 py-2 text-sm font-medium border;
    border-color: var(--app-border);
    color: var(--text);
    background: white;
  }
  .btn-outline:hover { background: #f9fafb; }
  .btn-outline:disabled { @apply opacity-60 cursor-not-allowed; }

  .chip {
    @apply inline-flex items-center rounded-full border px-2 py-1 text-xs;
    border-color: var(--app-border);
    background: white;
  }

  .input,
  .select,
  .textarea {
    @apply border rounded-xl px-3 py-2 text-sm w-full;
    border-color: var(--app-border);
    background: white;
    color: var(--text);
  }
  .input:focus,
  .select:focus,
  .textarea:focus {
    outline: 2px solid var(--brand-500);
    outline-offset: 1px;
  }

  .label-strong {
    @apply text-xs uppercase tracking-wide text-slate-500;
  }

  /* Top bar and tabs */
  .topbar {
    @apply sticky top-0 z-30 border-b;
    background: rgba(255,255,255,.9);
    backdrop-filter: saturate(150%) blur(8px);
    border-color: var(--app-border);
  }
  .tabs {
    @apply inline-flex items-center gap-1 p-1 rounded-xl border bg-white;
    border-color: var(--app-border);
  }
  .tab {
    @apply rounded-lg px-3 py-1.5 text-sm;
    color: var(--text);
  }
  .tab[aria-selected="true"] {
    background: var(--app-muted);
    @apply font-medium;
  }

  /* Preview semantics */
  .brand-name { @apply text-sm; }
  .meta { @apply text-xs text-slate-500; }
  .link-headline { @apply text-sm; }
  .link-subhead { @apply text-xs text-slate-600; }
  .cta { @apply text-sm; }

  /* Platform scoped text colors */
  .fb-ui .meta { @apply text-slate-600; }
  .ig-ui .meta { @apply text-slate-500; }
}

/* =========================
   Utilities
   ========================= */
@layer utilities {
  .stack-xs > * + * { margin-top: 0.25rem; }
  .stack-sm > * + * { margin-top: 0.5rem; }
  .stack-md > * + * { margin-top: 0.75rem; }
  .stack-lg > * + * { margin-top: 1rem; }

  .grid-cols-editor {
    grid-template-columns: minmax(320px, 420px) 1fr;
  }
  .text-app-muted {
    color: #aaa !important;
  }
}

